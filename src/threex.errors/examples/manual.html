<!DOCTYPE html>
<body><script>
	onErrors	= []
	window.addEventListener('error', function(event){
		console.log('ddd', arguments)
		console.dir(arguments)
	})
	window.onerror	= function(message, url, line, column, exception){
		// chrome provides 
		// firefox doesn't provide those variables
		if( column === undefined )	column		= 0
		if( exception === undefined )	exception	= null
		console.log('onerror', arguments)
		console.dir(arguments)
		// build the error to log
		var error	= {
			timeStamp	: Date().toString(),

			message		: message,
			url		: url,
			lineNumber	: lineNumber,

			column		: column,
			exception	: exception,
		};
		// archive it
		onErrors.push(error)
	}
	
	// throw "blalba"
	vla.bla = 'dd'
</script></body>
